<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>C10</title>
    <style>
        #img{
            display: none;
        }

    </style>
</head>
<body>
<img src="./athena.jpg" alt="" id="img">
<canvas id="canvas_img" width="460" height="320" style="background: #377b24">
    你的浏览器不支持 canvas，请升级你的浏览器。
</canvas>
<br>
<label for="">Image:</label><select name="" id="image">
    <option value="image">image:</option>
    <option value="1">Athena.jpg</option>
    <option value="2">theKiss.jpg</option>
    <option value="3">young-pearl.jpg</option>
    <option value="4">mona-lisa.jpg</option>
</select>
<label for="">Filter:</label><select name="" id="filter">
    <option value="filter">filter:</option>
    <option value="1">Darken</option>
    <option value="2">Lighten</option>
</select>
</body>
<script>
    function $(id) {
        return document.getElementById(id);
    }
    var c=$('canvas_img'),
        image=$('image'),
        filter=$('filter'),
        img=$('img');
    var ctx=c.getContext("2d");
    img.onload=function () {
        ctx.drawImage(img,10,10);
    };
    image.addEventListener("change",function () {
        switch (image.value) {
            case '1':
                img.src="./Athena.jpg";
                break;
            case '2':
                img.src="./theKiss.jpg";
                break;
            case '3':
                img.src="./young-pearl.jpg";
                break;
            case '4':
                img.src="./mona-lisa.jpg";
                break;
        }
    });
    filter.addEventListener("click",function () {
        switch (filter.value) {
            case '1':
                var imgData1 = ctx.getImageData(10, 10, 200, 300),
                    data1 = imgData1.data;
                for( var i = 0; i < data1.length; i += 4 ) {
                    data1[i] -= 40;
                    data1[i+1] -= 60;
                    data1[i+2] -= 60;
                }
                ctx.putImageData(imgData1,240,10);
                break;
            case '2':
                var imgData = ctx.getImageData(10, 10, 200, 300),
                    data = imgData.data;
                for( var i = 0; i < data.length; i += 4 ) {
                    data[i] += 30;
                    data[i+1] += 50;
                    data[i+2] += 50;
                }
                ctx.putImageData(imgData,240,10);
                break;
        }
    })
</script>
</html>